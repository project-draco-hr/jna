{
  if (w instanceof RootPaneContainer) {
    SwingUtilities.invokeLater(new Runnable(){
      public void run(){
        JRootPane p=((RootPaneContainer)w).getRootPane();
        p.putClientProperty("Window.alpha",new Float(alpha));
      }
    }
);
  }
  whenDisplayable(w,new Runnable(){
    public void run(){
      Object peer=w.getPeer();
      try {
        peer.getClass().getMethod("setAlpha",new Class[]{float.class}).invoke(peer,new Object[]{new Float(alpha)});
      }
 catch (      Exception e) {
      }
    }
  }
);
}
