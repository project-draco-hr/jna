{
  JRootPane rp=w instanceof RootPaneContainer ? ((RootPaneContainer)w).getRootPane() : null;
  if (transparent) {
    if (rp != null) {
      rp.putClientProperty("bg.old",w.getBackground());
    }
    w.setBackground(new Color(0,0,0,0));
  }
 else {
    if (rp != null) {
      w.setBackground((Color)rp.getClientProperty("bg.old"));
    }
 else {
      w.setBackground(null);
    }
  }
  fixWindowDragging(w,context);
}
