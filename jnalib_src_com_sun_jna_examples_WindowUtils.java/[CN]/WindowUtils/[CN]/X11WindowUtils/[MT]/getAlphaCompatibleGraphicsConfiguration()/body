{
  if (isWindowAlphaSupported()) {
    GraphicsEnvironment env=GraphicsEnvironment.getLocalGraphicsEnvironment();
    GraphicsDevice[] devices=env.getScreenDevices();
    for (int i=0; i < devices.length; i++) {
      GraphicsConfiguration[] configs=devices[i].getConfigurations();
      for (int j=0; j < configs.length; j++) {
        try {
          Object o=configs[j].getClass().getMethod("getVisual",null).invoke(configs[j],null);
          int visual=((Integer)o).intValue();
          for (int k=0; k < alphaVisuals.length; k++) {
            if (visual == alphaVisuals[k])             return configs[j];
          }
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
  }
  return super.getAlphaCompatibleGraphicsConfiguration();
}
