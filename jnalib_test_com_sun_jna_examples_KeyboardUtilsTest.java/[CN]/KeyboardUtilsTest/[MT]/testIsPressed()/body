{
  if (GraphicsEnvironment.isHeadless() || Platform.isMac())   return;
  Robot robot=new Robot();
  int[] keys={KeyEvent.VK_CONTROL,KeyEvent.VK_A,KeyEvent.VK_Z,KeyEvent.VK_0,KeyEvent.VK_9,KeyEvent.VK_SHIFT,KeyEvent.VK_U};
  String[] keystr={"VK_CONTROL","VK_A","VK_Z","VK_0","VK_9","VK_SHIFT","VK_U"};
  int[] nonkeys={KeyEvent.VK_B,KeyEvent.VK_1,KeyEvent.VK_ALT};
  String[] nonkeystr={"VK_B","VK_1","VK_ALT"};
  for (int i=0; i < keys.length; i++) {
    robot.keyPress(keys[i]);
  }
  robot.delay(1000);
  try {
    for (int i=0; i < keys.length; i++) {
      assertTrue("Key should be pressed: " + keystr[i],KeyboardUtils.isPressed(keys[i]));
    }
    for (int i=0; i < nonkeys.length; i++) {
      assertFalse("Key should not be pressed: " + nonkeystr[i],KeyboardUtils.isPressed(nonkeys[i]));
    }
  }
  finally {
    for (int i=0; i < keys.length; i++) {
      try {
        robot.keyRelease(keys[i]);
      }
 catch (      Exception e) {
      }
    }
  }
}
