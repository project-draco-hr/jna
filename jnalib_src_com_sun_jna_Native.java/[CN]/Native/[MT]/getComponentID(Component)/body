{
  if (GraphicsEnvironment.isHeadless()) {
    throw new HeadlessException("No native windows when headless");
  }
  if (c.isLightweight()) {
    throw new IllegalArgumentException("Component must be heavyweight");
  }
  if (!c.isDisplayable())   throw new IllegalStateException("Component must be displayable");
  if (Platform.isX11() && System.getProperty("java.version").matches("^1\\.4\\..*")) {
    if (!c.isVisible()) {
      throw new IllegalStateException("Component must be visible");
    }
  }
  if (Platform.isWindows()) {
synchronized (Native.class) {
      if (!jawt_loaded) {
        try {
          System.loadLibrary("jawt");
        }
 catch (        UnsatisfiedLinkError e) {
          e.printStackTrace();
        }
      }
      jawt_loaded=true;
    }
  }
  return getWindowHandle0(c);
}
