{
  if (c.isLightweight()) {
    throw new IllegalArgumentException("Component must be heavyweight");
  }
  if (!c.isDisplayable())   throw new IllegalStateException("Component must be displayable");
  if (System.getProperty("java.version").matches("^1\\.4\\..*")) {
    if (!c.isVisible()) {
      throw new IllegalStateException("Component must be visible");
    }
  }
  return getWindowHandle0(c);
}
