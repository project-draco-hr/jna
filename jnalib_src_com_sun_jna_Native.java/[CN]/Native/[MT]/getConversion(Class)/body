{
  if (Pointer.class.isAssignableFrom(type)) {
    return CVT_POINTER;
  }
  if (String.class == type) {
    return CVT_STRING;
  }
  if (Buffer.class.isAssignableFrom(type)) {
    return CVT_BUFFER;
  }
  if (Structure.class.isAssignableFrom(type)) {
    if (Structure.ByValue.class.isAssignableFrom(type)) {
      return CVT_STRUCTURE_BYVAL;
    }
    return CVT_STRUCTURE;
  }
  if (type.isArray()) {
switch (type.getName().charAt(1)) {
case 'Z':
      return CVT_ARRAY_BOOLEAN;
case 'B':
    return CVT_ARRAY_BYTE;
case 'S':
  return CVT_ARRAY_SHORT;
case 'C':
return CVT_ARRAY_CHAR;
case 'I':
return CVT_ARRAY_INT;
case 'J':
return CVT_ARRAY_LONG;
case 'F':
return CVT_ARRAY_FLOAT;
case 'D':
return CVT_ARRAY_DOUBLE;
default :
break;
}
}
if (type.isPrimitive()) {
return type == boolean.class ? CVT_BOOLEAN : CVT_DEFAULT;
}
if (Callback.class.isAssignableFrom(type)) {
return CVT_CALLBACK;
}
return -1;
}
