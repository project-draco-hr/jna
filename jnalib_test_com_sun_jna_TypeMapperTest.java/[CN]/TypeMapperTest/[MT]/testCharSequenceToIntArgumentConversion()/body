{
  DefaultTypeMapper mapper=new DefaultTypeMapper();
  mapper.addArgumentConverter(CharSequence.class,new ArgumentConverter(){
    public Object toNative(    Object arg){
      return Integer.valueOf(((CharSequence)arg).toString(),16);
    }
  }
);
  Map options=new HashMap();
  options.put(Library.OPTION_TYPE_MAPPER,mapper);
  final int MAGIC=0x7BEDCF23;
  TestLibrary lib=(TestLibrary)Native.loadLibrary("testlib",TestLibrary.class,options);
  assertEquals("Failed to convert String argument to Int",MAGIC,lib.returnInt32Argument(Integer.toHexString(MAGIC)));
}
