{
  if (GraphicsEnvironment.isHeadless())   return;
  JFrame frame=new JFrame(getName());
  final boolean[] click={false};
  final boolean[] ready={false};
  frame.getContentPane().add(new JLabel(getName()));
  frame.pack();
  frame.setSize(new Dimension(300,300));
  frame.setLocation(100,100);
  frame.getContentPane().addMouseListener(new MouseAdapter(){
    public void mousePressed(    MouseEvent e){
      click[0]=true;
    }
  }
);
  frame.getContentPane().addMouseMotionListener(new MouseMotionAdapter(){
    public void mouseMoved(    MouseEvent e){
      ready[0]=true;
    }
  }
);
  Display dpy=x11.XOpenDisplay(null);
  int WIDTH=300;
  int HEIGHT=300;
  X11.Window w=new X11.Window((int)Native.getWindowID(frame));
  Pixmap pm=x11.XCreatePixmap(dpy,w,WIDTH,HEIGHT,1);
  if (pm == null) {
    fail("Can't create pixmap");
  }
  GC gc=x11.XCreateGC(dpy,pm,new NativeLong(0),null);
  if (gc == null) {
    fail("Can't create GC");
  }
  Insets insets=frame.getInsets();
  x11.XSetForeground(dpy,gc,new NativeLong(0));
  x11.XFillRectangle(dpy,pm,gc,0,0,WIDTH,HEIGHT);
  x11.XSetForeground(dpy,gc,new NativeLong(0xFFFFFF));
  x11.XFillRectangle(dpy,pm,gc,0,0,WIDTH,(HEIGHT - insets.top) / 2);
  x11.XFillArc(dpy,pm,gc,0,0,WIDTH,HEIGHT - insets.top,0,360 * 64);
  int ShapeBounding=0;
  int ShapeSet=0;
  ext.XShapeCombineMask(dpy,w,ShapeBounding,0,0,pm,ShapeSet);
  x11.XCloseDisplay(dpy);
  frame.setVisible(true);
  Thread.sleep(20000);
  frame.dispose();
}
