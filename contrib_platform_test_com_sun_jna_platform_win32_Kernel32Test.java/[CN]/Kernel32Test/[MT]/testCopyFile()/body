{
  File source=File.createTempFile(getName(),"jna");
  source.deleteOnExit();
  File destination=new File(source.getParent(),source.getName() + "-destination");
  destination.deleteOnExit();
  try {
    Kernel32.INSTANCE.CopyFile(source.getCanonicalPath(),destination.getCanonicalPath(),true);
    assertTrue(destination.exists());
  }
  finally {
    source.delete();
    destination.delete();
  }
}
