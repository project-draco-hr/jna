{
  File tmp=File.createTempFile(getName(),"jna");
  tmp.deleteOnExit();
  try {
    Kernel32.INSTANCE.SetFileAttributes(tmp.getCanonicalPath(),new DWORD(WinNT.FILE_ATTRIBUTE_HIDDEN));
    int attributes=Kernel32.INSTANCE.GetFileAttributes(tmp.getCanonicalPath());
    assertTrue((attributes & WinNT.FILE_ATTRIBUTE_HIDDEN) != 0);
  }
  finally {
    tmp.delete();
  }
}
