{
  HANDLE h=Kernel32.INSTANCE.OpenProcess(0,false,Kernel32.INSTANCE.GetCurrentProcessId());
  char[] path=new char[1024];
  IntByReference lpdwSize=new IntByReference(path.length);
  boolean b=Kernel32.INSTANCE.QueryFullProcessImageName(h,0,path,lpdwSize);
  assertTrue(b);
  assertTrue(lpdwSize.getValue() > 0);
}
