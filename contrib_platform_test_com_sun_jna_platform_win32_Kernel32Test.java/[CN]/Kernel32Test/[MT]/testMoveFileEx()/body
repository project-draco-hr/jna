{
  File source=File.createTempFile(getName(),"jna");
  source.deleteOnExit();
  File destination=File.createTempFile(getName() + "Copy","jna");
  destination.deleteOnExit();
  try {
    Kernel32.INSTANCE.MoveFileEx(source.getCanonicalPath(),destination.getCanonicalPath(),new DWORD(WinBase.MOVEFILE_REPLACE_EXISTING));
    assertTrue(destination.exists());
    assertFalse(source.exists());
  }
  finally {
    source.delete();
    destination.delete();
  }
}
