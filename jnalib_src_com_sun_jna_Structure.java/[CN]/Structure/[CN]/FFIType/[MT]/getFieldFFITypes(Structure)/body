{
  Pointer[] result=new Pointer[s.structFields.size() + 1];
  int idx=0;
  for (Iterator i=s.structFields.values().iterator(); i.hasNext(); ) {
    StructField sf=(StructField)i.next();
    int length=-1;
    if (sf.type.isArray()) {
      try {
        Object array=sf.field.get(s);
        length=Array.getLength(array);
      }
 catch (      IllegalArgumentException e) {
      }
catch (      IllegalAccessException e) {
      }
    }
    result[idx++]=getFFIType(sf.type,length);
  }
  result[idx]=null;
  return result;
}
