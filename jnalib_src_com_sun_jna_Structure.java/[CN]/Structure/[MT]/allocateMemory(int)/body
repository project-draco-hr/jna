{
  if (size == CALCULATE_SIZE) {
    size=calculateSize();
  }
 else   if (size <= 0) {
    throw new IllegalArgumentException("Size must be greater than zero");
  }
  if (size > 0) {
    if (memory instanceof Memory) {
      ((Memory)memory).free();
    }
    memory=new Memory(size);
    this.size=size;
    this.freed=false;
  }
}
