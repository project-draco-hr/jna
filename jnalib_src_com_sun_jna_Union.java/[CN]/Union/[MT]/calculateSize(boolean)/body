{
  int size=super.calculateSize(force);
  if (size != CALCULATE_SIZE) {
    int fsize=0;
    for (Iterator i=fields().values().iterator(); i.hasNext(); ) {
      StructField f=(StructField)i.next();
      f.offset=0;
      if (f.size > fsize) {
        fsize=f.size;
        biggestField=f;
      }
    }
    size=calculateAlignedSize(fsize);
  }
  return size;
}
