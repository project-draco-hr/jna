{
  int size=super.calculateSize(force);
  if (size != CALCULATE_SIZE) {
    int fsize=0;
    for (Iterator i=fields().values().iterator(); i.hasNext(); ) {
      StructField f=(StructField)i.next();
      f.offset=0;
      fsize=Math.max(fsize,f.size);
    }
    size=calculateAlignedSize(fsize);
  }
  return size;
}
