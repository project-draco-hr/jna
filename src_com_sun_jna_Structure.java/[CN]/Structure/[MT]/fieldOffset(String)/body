{
  ensureAllocated();
  StructField f=(StructField)fields().get(name);
  if (f == null)   throw new IllegalArgumentException("No such field: " + name);
  return f.offset;
}
