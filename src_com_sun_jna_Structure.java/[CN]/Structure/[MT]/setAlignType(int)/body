{
  if (alignType == ALIGN_DEFAULT) {
    Class declaring=getClass().getDeclaringClass();
    if (declaring != null)     alignType=Native.getStructureAlignment(declaring);
    if (alignType == ALIGN_DEFAULT) {
      if (Platform.isWindows())       alignType=ALIGN_MSVC;
 else       alignType=ALIGN_GNUC;
    }
  }
  this.alignType=alignType;
  this.size=CALCULATE_SIZE;
  if (this.memory instanceof AutoAllocated) {
    this.memory=null;
  }
}
