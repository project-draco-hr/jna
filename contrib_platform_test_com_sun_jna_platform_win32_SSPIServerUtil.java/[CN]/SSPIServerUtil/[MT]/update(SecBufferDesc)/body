{
  this.clientToken=token;
  try {
    int serverRc=-1;
    serverRc=Secur32.INSTANCE.AcceptSecurityContext(phServerCredential,phServerContext.isNull() ? null : phServerContext,clientToken,new Long(Sspi.ISC_REQ_CONNECTION).longValue(),new Long(Sspi.SECURITY_NATIVE_DREP).longValue(),phServerContext,serverToken,pfServerContextAttr,ptsServerExpiry);
    if (serverRc == W32Errors.SEC_E_OK) {
      this.initialized=true;
      return;
    }
    if (serverRc != W32Errors.SEC_I_CONTINUE_NEEDED) {
      throw new RuntimeException("InitializeSecurityContext");
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
