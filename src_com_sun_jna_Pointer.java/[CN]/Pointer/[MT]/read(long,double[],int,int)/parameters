long offset
double[] buf
int index
int length
