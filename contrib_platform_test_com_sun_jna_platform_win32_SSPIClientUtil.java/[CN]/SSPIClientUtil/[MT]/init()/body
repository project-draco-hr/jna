{
  phClientCredential=new CredHandle();
  ptsClientExpiry=new TimeStamp();
  phClientContext=new CtxtHandle();
  pfClientContextAttr=new IntByReference();
  this.clientToken=new SecBufferDesc(Sspi.SECBUFFER_TOKEN,Sspi.MAX_TOKEN_SIZE);
  this.serverToken=new SecBufferDesc(Sspi.SECBUFFER_TOKEN,Sspi.MAX_TOKEN_SIZE);
  try {
    if (W32Errors.SEC_E_OK != Secur32.INSTANCE.AcquireCredentialsHandle(Advapi32Util.getUserName(),"Kerberos",new Long(Sspi.SECPKG_CRED_OUTBOUND).longValue(),null,null,null,null,phClientCredential,ptsClientExpiry)) {
      throw new RuntimeException("AcquireCredentialsHandle");
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  this.update(this.serverToken);
}
