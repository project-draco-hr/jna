{
  String sidString="S-1-1-0";
  PointerByReference sid=new PointerByReference();
  assertTrue(Advapi32.INSTANCE.ConvertStringSidToSidW(Native.toCharArray(sidString),sid));
  int sidLength=Advapi32.INSTANCE.GetLengthSid(sid);
  assertTrue(sidLength > 0);
  byte[] sidBytes=sid.getValue().getByteArray(0,sidLength);
  PointerByReference convertedSidStringPtr=new PointerByReference();
  assertTrue(Advapi32.INSTANCE.ConvertSidToStringSidW(sidBytes,convertedSidStringPtr));
  String convertedSidString=convertedSidStringPtr.getValue().getString(0,true);
  assertEquals(convertedSidString,sidString);
  assertEquals(null,Kernel32.INSTANCE.LocalFree(convertedSidStringPtr.getValue()));
}
