{
  if (value instanceof Pointer) {
    if (dstType == String.class) {
      value=((Pointer)value).getString(0);
    }
 else     if (dstType == WString.class) {
      value=new WString(((Pointer)value).getString(0,true));
    }
 else     if (dstType == String[].class || dstType == WString[].class) {
      value=((Pointer)value).getStringArray(0,dstType == WString[].class);
    }
 else     if (Callback.class.isAssignableFrom(dstType)) {
      value=getCallback(dstType,(Pointer)value);
    }
 else     if (Structure.class.isAssignableFrom(dstType)) {
      Structure s=Structure.newInstance(dstType);
      if (Structure.ByValue.class.isAssignableFrom(dstType)) {
        byte[] buf=new byte[s.size()];
        ((Pointer)value).read(0,buf,0,buf.length);
        s.getPointer().write(0,buf,0,buf.length);
      }
 else {
        s.useMemory((Pointer)value);
      }
      s.read();
      value=s;
    }
  }
 else   if ((boolean.class == dstType || Boolean.class == dstType) && value instanceof Number) {
    value=Function.valueOf(((Number)value).intValue() != 0);
  }
  return value;
}
