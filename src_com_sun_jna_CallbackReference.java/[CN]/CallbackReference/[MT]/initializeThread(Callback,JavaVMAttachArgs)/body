{
  CallbackThreadInitializer init=null;
  if (cb instanceof DefaultCallbackProxy) {
    cb=((DefaultCallbackProxy)cb).getCallback();
  }
synchronized (initializers) {
    init=(CallbackThreadInitializer)initializers.get(cb);
  }
  if (init != null) {
    String name=init.getName(cb);
    if (name != null) {
      args.name=name;
    }
    ThreadGroup group=init.getThreadGroup(cb);
    if (group != null) {
      args.group=group;
    }
    int options=getCallbackOptions(cb);
    if (init.isDaemon(cb)) {
      options|=Native.CB_DAEMON;
    }
 else {
      options&=~Native.CB_DAEMON;
    }
    if (init.detach(cb)) {
      options&=~Native.CB_NODETACH;
    }
 else {
      options|=Native.CB_NODETACH;
    }
    setCallbackOptions(cb,options);
    args.write();
  }
  return args.group;
}
