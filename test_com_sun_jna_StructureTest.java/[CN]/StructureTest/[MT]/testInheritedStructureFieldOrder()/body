{
class TestStructure extends Structure {
    public int first=1;
    protected List getFieldOrder(){
      return Arrays.asList(new String[]{"first"});
    }
  }
class TestStructureSub extends TestStructure {
    public int second=2;
    protected List getFieldOrder(){
      List list=new ArrayList(super.getFieldOrder());
      list.addAll(Arrays.asList(new String[]{"second"}));
      return list;
    }
  }
  TestStructureSub s=new TestStructureSub();
  assertEquals("Wrong size",8,s.size());
  s.write();
  assertEquals("Wrong first field: " + s,s.first,s.getPointer().getInt(0));
  assertEquals("Wrong second field: " + s,s.second,s.getPointer().getInt(4));
}
