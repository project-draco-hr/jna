{
class UninitializedArrayFieldStructure extends Structure {
    public byte[] array;
    protected List getFieldOrder(){
      return Arrays.asList(new String[]{"array"});
    }
  }
  try {
    Structure s=new UninitializedArrayFieldStructure();
    assertTrue("Invalid size: " + s.size(),s.size() > 0);
    fail("Uninitialized array field should cause write failure");
  }
 catch (  IllegalStateException e) {
  }
}
