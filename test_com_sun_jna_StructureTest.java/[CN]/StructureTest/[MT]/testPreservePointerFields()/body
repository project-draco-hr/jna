{
class TestStructure extends Structure {
    public Pointer p=new Memory(256);
    public TestPointer p2=new TestPointer(){
{
        setPointer(new Memory(256));
      }
    }
;
{
      setFieldOrder(new String[]{"p","p2"});
    }
  }
  TestStructure s=new TestStructure();
  final Pointer p=s.p;
  s.write();
  s.read();
  assertSame("Should preserve Pointer references if peer unchanged",p,s.p);
}
