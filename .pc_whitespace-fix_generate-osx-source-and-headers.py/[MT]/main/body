def main():
    move_source_tree('src', 'osx/src', 'osx/include')
    move_source_tree('include', None, 'osx/include')
    build_target(desktop_platform_32)
    build_target(desktop_platform_64)
    for (header_name, archs) in headers_seen.iteritems():
        (basename, suffix) = os.path.splitext(header_name)
        with open(os.path.join('osx/include', header_name), 'w') as header:
            for arch in archs:
                header.write(('#include <%s_%s%s>\n' % (basename, arch, suffix)))
